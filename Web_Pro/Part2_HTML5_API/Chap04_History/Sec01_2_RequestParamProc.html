<!DOCTYPE html>
<html>
	<head>
		<title>요청 매개변수(입력양식) 처리</title>
		<meta charset='utf-8' />
		<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
		<script src="sammy.js"></script>

		<!-- 페이지 라우트 -->
		<script>
			// Sammy
			var app = Sammy(function(){

				// get form
				this.get('#/form', function(){
					var template = $('#form').text();
					$('body').html(template);
				});

				// get result
				this.get('#/result', function(){
					var name = this.params['name'];	// 요청 매개 변수 추출

					$('body').empty();
					$('<h1></h1>').text(name).appendTo('body');

					setTimeout(function() {
						history.back();
					}, 5*1000);
				});

			});
		</script>

		<!-- 페이지 준비 완료 -->
		<script>
			$(document).ready(function() {
				// run
				app.run('#/form');
			});
		</script>

		<!-- form 템플릿 -->
		<script id="form" type="text/template">
			<form action="#/result" method="get">
				<label>Name</label>
				<input type="text" name="name" />
				<input type="submit" />
			</form>
		</script>
	</head>
	<body>

	</body>
</html>
